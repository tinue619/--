# üìù Changelog - Cabinet Editor

## [v3.2] - 2025-01-20

### üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–±–µ—Ä –∂–µ—Å—Ç–∫–æ—Å—Ç–∏

#### –ü—Ä–æ–±–ª–µ–º–∞ #1: –©–µ–ª—å –º–µ–∂–¥—É —Ä–µ–±—Ä–æ–º –∏ –ø–æ–ª–∫–æ–π (16–º–º)
**–ü—Ä–∏—á–∏–Ω–∞:** –õ–∏—à–Ω–µ–µ –≤—ã—á–∏—Ç–∞–Ω–∏–µ `CONFIG.DSP/2` –≤ Y-–ø–æ–∑–∏—Ü–∏–∏.

**–†–µ—à–µ–Ω–∏–µ:** –£–±—Ä–∞–Ω–æ –≤—ã—á–∏—Ç–∞–Ω–∏–µ, —Ä–µ–±—Ä–æ —Ç–µ–ø–µ—Ä—å –ø–ª–æ—Ç–Ω–æ –ø—Ä–∏–∂–∞—Ç–æ –∫ –Ω–∏–∑—É –ø–æ–ª–∫–∏.
```javascript
// –ë—ã–ª–æ: panel.position.y - CONFIG.RIB.HEIGHT/2 - CONFIG.DSP/2
// –°—Ç–∞–ª–æ: panel.position.y - CONFIG.RIB.HEIGHT/2
```

#### –ü—Ä–æ–±–ª–µ–º–∞ #2: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è Z-–ø–æ–∑–∏—Ü–∏—è
**–ü—Ä–∏—á–∏–Ω–∞:** –†–µ–±—Ä–æ –Ω–∞—Ö–æ–¥–∏–ª–æ—Å—å –≤ —Ü–µ–Ω—Ç—Ä–µ —à–∫–∞—Ñ–∞ (`z = CONFIG.HDF/2`).

**–†–µ—à–µ–Ω–∏–µ:** –†–µ–±—Ä–æ –ø–µ—Ä–µ–º–µ—â–µ–Ω–æ –∫ –∑–∞–¥–Ω–µ–π —Å—Ç–µ–Ω–∫–µ.
```javascript
// –ë—ã–ª–æ: CONFIG.HDF/2
// –°—Ç–∞–ª–æ: -CONFIG.CABINET.DEPTH/2 + CONFIG.HDF + CONFIG.RIB.DEPTH/2
```

### ‚ú® –£–ª—É—á—à–µ–Ω–∏—è

- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –≥–ª—É–±–∏–Ω–∞ —Ä–µ–±—Ä–∞:** —Å 597–º–º –¥–æ 100–º–º (–∫–æ–º–ø–∞–∫—Ç–Ω–æ–µ —Ä–µ–±—Ä–æ)
- **–î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** `CONFIG.RIB.DEPTH` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≥–ª—É–±–∏–Ω—ã
- **–û–±–Ω–æ–≤–ª–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:** —É–ª—É—á—à–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ–¥–∞

### üìä –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã
```
js/config.js
  + –î–æ–±–∞–≤–ª–µ–Ω–æ: RIB.DEPTH = 100

js/App.js
  - –ò–∑–º–µ–Ω–µ–Ω–æ: updateMesh() - Y-–ø–æ–∑–∏—Ü–∏—è —Ä–µ–±—Ä–∞
  - –ò–∑–º–µ–Ω–µ–Ω–æ: updateMesh() - Z-–ø–æ–∑–∏—Ü–∏—è —Ä–µ–±—Ä–∞
  - –ò–∑–º–µ–Ω–µ–Ω–æ: updateMesh() - –≥–ª—É–±–∏–Ω–∞ —Ä–µ–±—Ä–∞
  - –û–±–Ω–æ–≤–ª–µ–Ω–æ: render2D() - –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
```

---

## [v3.1] - 2025-01-20

### üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

#### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞: –ü–æ—Ç–µ—Ä—è —Å–≤—è–∑–µ–π –ø—Ä–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–∏
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–∏ –ø–∞–Ω–µ–ª–µ–π —Å–≤—è–∑–∏ (`connections`) –º–µ–∂–¥—É —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ —Ä–∞–∑—Ä—ã–≤–∞–ª–∏—Å—å, —á—Ç–æ –Ω–∞—Ä—É—à–∞–ª–æ —ç–ª–∞—Å—Ç–∏—á–Ω–æ—Å—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.

**–ü—Ä–∏—á–∏–Ω–∞:** 
- –§—É–Ω–∫—Ü–∏—è `rebuildAllConnections()` –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–ª–∞ –≤—Å–µ –ø–∞–Ω–µ–ª–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –¥–≤–∏–∂–µ–Ω–∏–∏
- –ê–ª–≥–æ—Ä–∏—Ç–º –∏—Å–∫–∞–ª —Å–µ–≥–º–µ–Ω—Ç –ø–æ —Ç–µ–∫—É—â–∏–º `bounds`, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å
- –¢–æ—Ç–∞–ª—å–Ω—ã–π –ø–µ—Ä–µ—Å—á–µ—Ç —Ä–∞–∑—Ä—É—à–∞–ª –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å–≤—è–∑–∏

**–†–µ—à–µ–Ω–∏–µ:**
1. **–£–¥–∞–ª–µ–Ω–æ:** `rebuildAllConnections()` - –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–æ–±–ª–µ–º—ã
2. **–î–æ–±–∞–≤–ª–µ–Ω–æ:** `updateConnectedPanels(movedPanel)` 
   - –û–±–Ω–æ–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –ø–∞–Ω–µ–ª–∏, –Ω–∞–ø—Ä—è–º—É—é —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ø–µ—Ä–µ–º–µ—â–µ–Ω–Ω–æ–π
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ `connections` –≤–º–µ—Å—Ç–æ –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —ç–ª–∞—Å—Ç–∏—á–Ω–æ—Å—Ç—å –∫–∞–∫ –≤ v2

3. **–î–æ–±–∞–≤–ª–µ–Ω–æ:** `recalculatePanelBounds(panel)`
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –ø–∞–Ω–µ–ª–µ–π
   - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–µ–≥–º–µ–Ω—Ç –ø–æ **—Ü–µ–Ω—Ç—Ä—É** –ø–∞–Ω–µ–ª–∏, –∞ –Ω–µ –ø–æ —Å—Ç–∞—Ä—ã–º –≥—Ä–∞–Ω–∏—Ü–∞–º
   - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç bounds –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è

4. **–£–ª—É—á—à–µ–Ω–æ:** –õ–æ–≥–∏–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç `connections` –Ω–∞–ø—Ä—è–º—É—é: `connections.bottom === current`
   - –ë–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º—ã—Ö –ø–∞–Ω–µ–ª–µ–π

### ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

- ‚úÖ –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –ø–æ–ª–æ–∫ - —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ —Å–ª–µ–¥—É—é—Ç
- ‚úÖ –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–π - –ø–æ–ª–∫–∏ —Ä–∞—Å—Ç—è–≥–∏–≤–∞—é—Ç—Å—è
- ‚úÖ –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–∞–Ω–µ–ª–∏ - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- ‚úÖ –ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ - —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ Undo/Redo - —Å–≤—è–∑–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–ó–∞–≥—Ä—É–∑–∫–∞ - –¥–∞–Ω–Ω—ã–µ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è
- ‚úÖ –†–µ–±—Ä–∞ –∂–µ—Å—Ç–∫–æ—Å—Ç–∏ - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è

### üìä –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã

```
js/App.js
  - –£–¥–∞–ª–µ–Ω–æ: rebuildAllConnections()
  - –î–æ–±–∞–≤–ª–µ–Ω–æ: updateConnectedPanels()
  - –î–æ–±–∞–≤–ª–µ–Ω–æ: recalculatePanelBounds()
  - –ò–∑–º–µ–Ω–µ–Ω–æ: movePanel()
  - –ò–∑–º–µ–Ω–µ–Ω–æ: deletePanel()
  - –£–ø—Ä–æ—â–µ–Ω–æ: restoreState()
  - –£–ø—Ä–æ—â–µ–Ω–æ: loadState()
```

### üéØ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- ‚ö° –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –ø–∞–Ω–µ–ª–µ–π: –±—ã—Å—Ç—Ä–µ–µ (–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è 2-4 –ø–∞–Ω–µ–ª–∏ –≤–º–µ—Å—Ç–æ –≤—Å–µ—Ö)
- ‚ö° –ü–∞–º—è—Ç—å: –º–µ–Ω—å—à–µ –ø–µ—Ä–µ—Å—á–µ—Ç–æ–≤ –≥–µ–æ–º–µ—Ç—Ä–∏–∏
- ‚ö° –û—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç—å UI: —É–ª—É—á—à–µ–Ω–∞ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

### üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `TESTING.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `CHANGELOG.md` - –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## [v3.0] - –ë–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- 2D —Ä–µ–¥–∞–∫—Ç–æ—Ä –Ω–∞ Canvas
- 3D –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ Three.js  
- –ü–æ–ª–∫–∏ –∏ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏
- –†–µ–±—Ä–∞ –∂–µ—Å—Ç–∫–æ—Å—Ç–∏ –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –ø—Ä–æ–ª–µ—Ç–æ–≤
- –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π (Undo/Redo)
- –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω

### –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ v3.1)
- ‚ùå –ü–æ—Ç–µ—Ä—è —Å–≤—è–∑–µ–π –ø—Ä–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–∏
- ‚ùå –ù–∞—Ä—É—à–µ–Ω–∏–µ —ç–ª–∞—Å—Ç–∏—á–Ω–æ—Å—Ç–∏
