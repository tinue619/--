# üß™ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

## –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

### ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ #1: –ü–æ—Ç–µ—Ä—è —Å–≤—è–∑–µ–π –ø—Ä–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–∏
**–ü—Ä–∏—á–∏–Ω–∞:** –§—É–Ω–∫—Ü–∏—è `rebuildAllConnections()` –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–ª–∞ –≤—Å–µ –ø–∞–Ω–µ–ª–∏, –∏—Å–ø–æ–ª—å–∑—É—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ–∏—Å–∫–∞ —Å–µ–≥–º–µ–Ω—Ç–∞ –ø–æ —Å—Ç–∞—Ä—ã–º boundaries.

**–†–µ—à–µ–Ω–∏–µ:** 
- –£–¥–∞–ª–µ–Ω–∞ `rebuildAllConnections()`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ `updateConnectedPanels()` - –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –ø–∞–Ω–µ–ª–∏
- –î–æ–±–∞–≤–ª–µ–Ω–∞ `recalculatePanelBounds()` - –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç –≥—Ä–∞–Ω–∏—Ü—ã –ø–æ —Ü–µ–Ω—Ç—Ä—É –ø–∞–Ω–µ–ª–∏

### ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ #2: –ù–∞—Ä—É—à–µ–Ω–∏–µ —ç–ª–∞—Å—Ç–∏—á–Ω–æ—Å—Ç–∏
**–ü—Ä–∏—á–∏–Ω–∞:** –¢–æ—Ç–∞–ª—å–Ω—ã–π –ø–µ—Ä–µ—Å—á–µ—Ç –≤—Å–µ—Ö –ø–∞–Ω–µ–ª–µ–π –ø—Ä–∏ –∫–∞–∂–¥–æ–º –¥–≤–∏–∂–µ–Ω–∏–∏ —Ä–∞–∑—Ä—É—à–∞–ª —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–≤—è–∑–µ–π.

**–†–µ—à–µ–Ω–∏–µ:** 
- –û–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –ø–∞–Ω–µ–ª–∏ —á–µ—Ä–µ–∑ `connections`
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ —ç–ª–∞—Å—Ç–∏—á–Ω–æ—Å—Ç–∏ –∏–∑ v2

---

## üìù –°—Ü–µ–Ω–∞—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

### –¢–µ—Å—Ç 1: –ë–∞–∑–æ–≤–∞—è —ç–ª–∞—Å—Ç–∏—á–Ω–æ—Å—Ç—å –ø–æ–ª–æ–∫
1. –î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª–∫—É –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ —à–∫–∞—Ñ–∞ (Y ‚âà 1000)
2. –î–æ–±–∞–≤—å—Ç–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ (X ‚âà 500)
3. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –≤ —Ä–µ–∂–∏–º "–î–≤–∏–≥–∞—Ç—å" üëÜ
4. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –≤–ª–µ–≤–æ-–≤–ø—Ä–∞–≤–æ

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 
- ‚úÖ –ü–æ–ª–∫–∞ –¥–æ–ª–∂–Ω–∞ **—Ä–∞—Å—Ç—è–≥–∏–≤–∞—Ç—å—Å—è/—Å–∂–∏–º–∞—Ç—å—Å—è** —Å–ª–µ–¥—É—è –∑–∞ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–º
- ‚úÖ –°–≤—è–∑–∏ –¥–æ–ª–∂–Ω—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è
- ‚úÖ –í 3D –≤–∏–¥–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### –¢–µ—Å—Ç 2: –≠–ª–∞—Å—Ç–∏—á–Ω–æ—Å—Ç—å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–π
1. –°–æ–∑–¥–∞–π—Ç–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å (X ‚âà 500)
2. –î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª–∫—É, –ø–µ—Ä–µ—Å–µ–∫–∞—é—â—É—é —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å (Y ‚âà 1000)
3. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ –ø–æ–ª–∫—É –≤–≤–µ—Ä—Ö-–≤–Ω–∏–∑

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω —Ä–∞–∑–¥–µ–ª–∏—Ç—å—Å—è –Ω–∞ –¥–≤–∞ —Å–µ–≥–º–µ–Ω—Ç–∞
- ‚úÖ –ù–∏–∂–Ω—è—è —á–∞—Å—Ç—å –¥–æ–ª–∂–Ω–∞ –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –Ω–∞ –º–µ—Å—Ç–µ
- ‚úÖ –í–µ—Ä—Ö–Ω—è—è —á–∞—Å—Ç—å –¥–æ–ª–∂–Ω–∞ —É–º–µ–Ω—å—à–∞—Ç—å—Å—è/—É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å—Å—è

### –¢–µ—Å—Ç 3: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–∞–Ω–µ–ª–∏
1. –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ç–∫—É: 2 –ø–æ–ª–∫–∏ √ó 2 —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è
2. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ –ª—é–±—É—é –ø–æ–ª–∫—É
3. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ –ª—é–±–æ–π —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –í—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –ø–∞–Ω–µ–ª–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ù–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –ø–∞–Ω–µ–ª–∏ –æ—Å—Ç–∞—é—Ç—Å—è –Ω–∞ –º–µ—Å—Ç–µ
- ‚úÖ –†–µ–±—Ä–∞ –∂–µ—Å—Ç–∫–æ—Å—Ç–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –¥–ª—è –ø—Ä–æ–ª–µ—Ç–æ–≤ > 800–º–º

### –¢–µ—Å—Ç 4: –£–¥–∞–ª–µ–Ω–∏–µ —Å –∫–∞—Å–∫–∞–¥–æ–º
1. –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª–∫—É —Å –¥–≤—É–º—è —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è–º–∏ –Ω–∞ –Ω–µ–π
2. –£–¥–∞–ª–∏—Ç–µ –ø–æ–ª–∫—É üóëÔ∏è

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏, –æ–ø–∏—Ä–∞—é—â–∏–µ—Å—è –Ω–∞ –ø–æ–ª–∫—É, —Ç–∞–∫–∂–µ —É–¥–∞–ª—è—é—Ç—Å—è
- ‚úÖ –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏, –ø—Ä–æ—Ö–æ–¥—è—â–∏–µ —Å–∫–≤–æ–∑—å –ø–æ–ª–∫—É, –æ—Å—Ç–∞—é—Ç—Å—è

### –¢–µ—Å—Ç 5: Undo/Redo
1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–∞–Ω–µ–ª–µ–π
2. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ –∏—Ö
3. –ù–∞–∂–º–∏—Ç–µ "–û—Ç–º–µ–Ω–∏—Ç—å" ‚Ü∂
4. –ù–∞–∂–º–∏—Ç–µ "–í–µ—Ä–Ω—É—Ç—å" ‚Ü∑

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –°–≤—è–∑–∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è
- ‚úÖ –†–µ–±—Ä–∞ –∂–µ—Å—Ç–∫–æ—Å—Ç–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è

### –¢–µ—Å—Ç 6: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∑–∞–≥—Ä—É–∑–∫–∞
1. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–∞–Ω–µ–ª—è–º–∏
2. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5)

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –í—Å–µ –ø–∞–Ω–µ–ª–∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è
- ‚úÖ –°–≤—è–∑–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
- ‚úÖ –†–µ–±—Ä–∞ –∂–µ—Å—Ç–∫–æ—Å—Ç–∏ –Ω–∞ –º–µ—Å—Ç–µ

---

## üêõ –ö–∞–∫ —Å–æ–æ–±—â–∏—Ç—å –æ–± –æ—à–∏–±–∫–µ:

–ï—Å–ª–∏ –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—É:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
2. –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–∏—Ç–µ –æ—à–∏–±–∫—É
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏
4. –û–ø–∏—à–∏—Ç–µ —à–∞–≥–∏ –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è

---

## üîç –û—Ç–ª–∞–¥–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏:

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ —á–µ—Ä–µ–∑ `window.cabinetApp`:

```javascript
// –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –ø–∞–Ω–µ–ª–∏
cabinetApp.panels

// –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –ø–∞–Ω–µ–ª—å
cabinetApp.panels.get('shelf-0')

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤—è–∑–∏ –ø–∞–Ω–µ–ª–∏
panel = cabinetApp.panels.get('shelf-0')
console.log(panel.connections)

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≥—Ä–∞–Ω–∏—Ü—ã
console.log(panel.bounds)
```

---

## ‚ú® –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:

### –°–≤—è–∑–∏ (connections):
- `left/right` –¥–ª—è –ø–æ–ª–æ–∫ ‚Üí —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏
- `bottom/top` –¥–ª—è —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–π ‚Üí —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –ø–æ–ª–∫–∏
- `null` –æ–∑–Ω–∞—á–∞–µ—Ç –≥—Ä–∞–Ω–∏—Ü—É —à–∫–∞—Ñ–∞ (–±–æ–∫–æ–≤–∏–Ω–∞/–¥–Ω–æ/–∫—Ä—ã—à–∞)

### –ì—Ä–∞–Ω–∏—Ü—ã (bounds):
- `startX/endX` –¥–ª—è –ø–æ–ª–æ–∫
- `startY/endY` –¥–ª—è —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –ø–∞–Ω–µ–ª–µ–π

### –†–µ–±—Ä–∞ –∂–µ—Å—Ç–∫–æ—Å—Ç–∏:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –¥–ª—è –ø—Ä–æ–ª–µ—Ç–æ–≤ > 800–º–º
- –£–¥–∞–ª—è—é—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –í–∏–¥–Ω—ã –≤ 2D (—Ç–µ–º–Ω–µ–µ) –∏ 3D —Ä–µ–∂–∏–º–∞—Ö
