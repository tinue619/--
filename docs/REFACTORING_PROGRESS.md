# üöÄ –ü—Ä–æ–≥—Ä–µ—Å—Å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ App.js

**–¶–µ–ª—å:** –†–∞–∑–±–∏—Ç—å App.js (1887 —Å—Ç—Ä–æ–∫) –Ω–∞ 6 –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –º–æ–¥—É–ª–µ–π

**–°—Ç–∞—Ç—É—Å:** 5/6 –º–æ–¥—É–ª–µ–π –∑–∞–≤–µ—Ä—à–µ–Ω–æ (83% –≥–æ—Ç–æ–≤–æ) üéØüî•

**–û–°–¢–ê–õ–°–Ø –ü–û–°–õ–ï–î–ù–ò–ô –ú–û–î–£–õ–¨!**

---

## ‚úÖ –ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏

### 1. uiManager.js ‚úÖ (–ö–æ–º–º–∏—Ç: ef497ab)
**–†–∞–∑–º–µ—Ä:** 128 —Å—Ç—Ä–æ–∫  
**–ú–µ—Ç–æ–¥—ã:** setupEvents, setMode, updateStatus, switchTab, updateStats, updateCabinetInfo

### 2. interactions.js ‚úÖ (–ö–æ–º–º–∏—Ç: d8b42b8)
**–†–∞–∑–º–µ—Ä:** 267 —Å—Ç—Ä–æ–∫  
**–ú–µ—Ç–æ–¥—ã:** updateCanvas, getCoords, handlePointer, startInteraction, updateInteraction, endInteraction, findPanelAt

### 3. stateManager.js ‚úÖ (–ö–æ–º–º–∏—Ç: d135dc3)
**–†–∞–∑–º–µ—Ä:** 173 —Å—Ç—Ä–æ–∫  
**–ú–µ—Ç–æ–¥—ã:** serializeConnections, deserializeConnections, scheduleSave, saveToStorage, loadState, showSaved

### 4. historyManager.js ‚úÖ (–ö–æ–º–º–∏—Ç: a040601)
**–†–∞–∑–º–µ—Ä:** 223 —Å—Ç—Ä–æ–∫  
**–ú–µ—Ç–æ–¥—ã:** saveHistory, undo, redo, restoreState, updateHistoryButtons

### 5. drawerOperations.js ‚úÖ (–ö–æ–º–º–∏—Ç: 8aae44c)
**–†–∞–∑–º–µ—Ä:** 215 —Å—Ç—Ä–æ–∫  
**–°—Ç–∞—Ç—É—Å:** –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω

**–ü–µ—Ä–µ–Ω–µ—Å—ë–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `addDrawer(coords)` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —è—â–∏–∫–∞ –ø–æ –∫–ª–∏–∫—É, –ø–æ–∏—Å–∫ –≥—Ä–∞–Ω–∏—Ü (–ø–æ–ª–∫–∏ —Å–Ω–∏–∑—É/—Å–≤–µ—Ä—Ö—É, —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ —Å–ª–µ–≤–∞/—Å–ø—Ä–∞–≤–∞)
- `createDrawerStack(baseConnections, count)` - —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ç–µ–∫–∞ –∏–∑ N —è—â–∏–∫–æ–≤ —Å —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω—ã–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –≤—ã—Å–æ—Ç—ã

**–ò–º–ø–æ—Ä—Ç—ã –≤ App.js:**
```javascript
import { 
  addDrawer,
  createDrawerStack
} from './modules/drawerOperations.js';
```

---

## üîú –ü–æ—Å–ª–µ–¥–Ω–∏–π –º–æ–¥—É–ª—å!

### 6. panelOperations.js ‚è≥ (–§–ò–ù–ê–õ–¨–ù–´–ô!)
**–û—Ü–µ–Ω–∫–∞:** ~500-600 —Å—Ç—Ä–æ–∫ (—Å–∞–º—ã–π –±–æ–ª—å—à–æ–π –º–æ–¥—É–ª—å)  
**–ú–µ—Ç–æ–¥—ã –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞:**

**–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–∞–Ω–µ–ª–µ–π:**
- `hasDrawerInArea(isHorizontal, mainPos, startCross, endCross)` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è —Å —è—â–∏–∫–∞–º–∏
- `addPanel(type, mainPos, crossPos)` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª–∫–∏ –∏–ª–∏ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è

**–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ:**
- `getPanelCoord(panel, axis)` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ø–∞–Ω–µ–ª–∏ (—Ä–µ–∞–ª—å–Ω–æ–π –∏–ª–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π)
- `getDrawerLimitsForPanel(panel)` - –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –æ—Ç —è—â–∏–∫–æ–≤

**–ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ:**
- `movePanel(panel, coords)` - –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –æ–±—ã—á–Ω–æ–π –ø–∞–Ω–µ–ª–∏
- `moveSide(side, newX)` - –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –±–æ–∫–æ–≤–∏–Ω (–∏–∑–º–µ–Ω–µ–Ω–∏–µ —à–∏—Ä–∏–Ω—ã —à–∫–∞—Ñ–∞)
- `moveHorizontalSide(side, newY)` - –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –¥–Ω–∞/–∫—Ä—ã—à–∏ (–∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤—ã—Å–æ—Ç—ã/—Ü–æ–∫–æ–ª—è)
- `updateConnectedPanels(movedPanel)` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –ø–∞–Ω–µ–ª–µ–π –ø–æ—Å–ª–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è

**–£–¥–∞–ª–µ–Ω–∏–µ:**
- `deletePanel(panel)` - —É–¥–∞–ª–µ–Ω–∏–µ –ø–∞–Ω–µ–ª–∏ —Å –∫–∞—Å–∫–∞–¥–Ω—ã–º —É–¥–∞–ª–µ–Ω–∏–µ–º –∑–∞–≤–∏—Å–∏–º—ã—Ö
- `recalculatePanelBounds(panel)` - –ø–µ—Ä–µ—Å—á—ë—Ç –≥—Ä–∞–Ω–∏—Ü –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è

**–û–ø–µ—Ä–∞—Ü–∏–∏:**
- `clearAll()` - –æ—á–∏—Å—Ç–∫–∞ –≤—Å–µ–≥–æ —à–∫–∞—Ñ–∞
- `mirrorContent()` - –æ—Ç–∑–µ—Ä–∫–∞–ª–∏–≤–∞–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ

---

## üìä –ü—Ä–æ–≥—Ä–µ—Å—Å

**–î–æ:**
- App.js = 1887 —Å—Ç—Ä–æ–∫

**–ü–æ—Å–ª–µ –ø—è—Ç–∏ –º–æ–¥—É–ª–µ–π:**
- App.js = ~1230 —Å—Ç—Ä–æ–∫
- uiManager.js = 128 —Å—Ç—Ä–æ–∫
- interactions.js = 267 —Å—Ç—Ä–æ–∫
- stateManager.js = 173 —Å—Ç—Ä–æ–∫
- historyManager.js = 223 —Å—Ç—Ä–æ–∫
- drawerOperations.js = 215 —Å—Ç—Ä–æ–∫

**–¶–µ–ª–µ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–ø–æ—Å–ª–µ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –º–æ–¥—É–ª—è):**
- App.js = ~400-500 —Å—Ç—Ä–æ–∫ ‚ú®
- panelOperations.js = ~500-600 —Å—Ç—Ä–æ–∫
- –í—Å–µ–≥–æ 6 –º–æ–¥—É–ª–µ–π = ~1600 —Å—Ç—Ä–æ–∫

**–≠–∫–æ–Ω–æ–º–∏—è —Å—Ç—Ä–æ–∫ –≤ App.js:** ~660 —Å—Ç—Ä–æ–∫! ‚úÇÔ∏è‚úÇÔ∏è‚úÇÔ∏è

---

## üìù –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –§–ò–ù–ê–õ–¨–ù–û–ì–û –º–æ–¥—É–ª—è

### –®–∞–≥ 6: –°–æ–∑–¥–∞–Ω–∏–µ panelOperations.js (–ü–û–°–õ–ï–î–ù–ò–ô!)

1. **–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª:** `js/modules/panelOperations.js`

2. **–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –í–°–ï –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –±–æ–ª—å—à–∏–µ –º–µ—Ç–æ–¥—ã –∏–∑ App.js:**
   - hasDrawerInArea
   - addPanel
   - getPanelCoord
   - getDrawerLimitsForPanel
   - movePanel
   - moveSide
   - moveHorizontalSide
   - updateConnectedPanels
   - deletePanel
   - recalculatePanelBounds
   - clearAll
   - mirrorContent

3. **–ò–∑–º–µ–Ω–∏—Ç—å –≤–æ –≤—Å–µ—Ö –º–µ—Ç–æ–¥–∞—Ö:**
   - `this.` ‚Üí `app.`
   - –î–æ–±–∞–≤–∏—Ç—å `app` –∫–∞–∫ –ø–µ—Ä–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä

4. **–î–æ–±–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã –≤ panelOperations.js:**
   ```javascript
   import { CONFIG } from '../config.js';
   import { Panel } from '../Panel.js';
   import { render2D } from './render2D.js';
   import { renderAll3D, updateMesh, removeMesh, updateDrawerMeshes, removeDrawerMeshes } from './render3D.js';
   ```

5. **–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏**

6. **–í App.js –¥–æ–±–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç –∏ —Å–æ–∑–¥–∞—Ç—å –æ–±—ë—Ä—Ç–∫–∏**

7. **–§–ò–ù–ê–õ–¨–ù–û–ï —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª–æ–∫/—Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–π ‚úì
   - –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –ø–∞–Ω–µ–ª–µ–π ‚úì
   - –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –±–æ–∫–æ–≤–∏–Ω (–∏–∑–º–µ–Ω–µ–Ω–∏–µ —à–∏—Ä–∏–Ω—ã) ‚úì
   - –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –¥–Ω–∞/–∫—Ä—ã—à–∏ ‚úì
   - –£–¥–∞–ª–µ–Ω–∏–µ –ø–∞–Ω–µ–ª–µ–π ‚úì
   - –û—Ç–∑–µ—Ä–∫–∞–ª–∏–≤–∞–Ω–∏–µ ‚úì
   - –û—á–∏—Å—Ç–∫–∞ –≤—Å–µ–≥–æ ‚úì

8. **–ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å —Å –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º!** üéâ

---

## üéØ –°—Ç–∞—Ç—É—Å –ø–æ –º–æ–¥—É–ª—è–º

- ‚úÖ uiManager.js (128 —Å—Ç—Ä–æ–∫)
- ‚úÖ interactions.js (267 —Å—Ç—Ä–æ–∫)
- ‚úÖ stateManager.js (173 —Å—Ç—Ä–æ–∫)
- ‚úÖ historyManager.js (223 —Å—Ç—Ä–æ–∫)
- ‚úÖ drawerOperations.js (215 —Å—Ç—Ä–æ–∫)
- ‚è≥ panelOperations.js (–ü–û–°–õ–ï–î–ù–ò–ô! üéØ)

**–ü—Ä–æ–≥—Ä–µ—Å—Å: 5/6 (83%)** - –§–∏–Ω–∞–ª—å–Ω—ã–π —Ä—ã–≤–æ–∫! üöÄ

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-11-05, –ú–æ–¥—É–ª—å 5/6 –∑–∞–≤–µ—Ä—à—ë–Ω  
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** panelOperations.js (–§–ò–ù–ê–õ–¨–ù–´–ô –ú–û–î–£–õ–¨!)
